# Shelia Face Recognition Service - Environment Configuration Template
# Copy this file to .env and customize the values for your VPS and domain

# ============================================================================
# DEPLOYMENT CONFIGURATION
# ============================================================================
# Container naming prefix (used for all container names)
# Default: shelia
CONTAINER_PREFIX=shelia

# Restart policy for containers
# Options: no, always, unless-stopped, on-failure
RESTART_POLICY=unless-stopped

# Internal Docker network name (for service-to-service communication)
# Default: face-recognition-network
INTERNAL_NETWORK_NAME=face-recognition-network

# External Docker network name (for external service communication)
# Default: proxy-network
EXTERNAL_NETWORK_NAME=proxy-network

# ============================================================================
# DOMAIN & SSL CONFIGURATION
# ============================================================================
# Your domain name - UPDATE THIS WITH YOUR OWN DOMAIN
# Example: api.yourdomain.com
DOMAIN_NAME=face-recognition.example.com

# Email for Let's Encrypt SSL certificate
# Used by certbot for SSL certificate registration
# Example: admin@yourdomain.com
LETSENCRYPT_EMAIL=admin@example.com

# ============================================================================
# API Settings
# ============================================================================
APP_NAME=Shelia Face Recognition Service
APP_VERSION=0.1.0
API_V1_PREFIX=/api/v1
DEBUG=false

# ============================================================================
# Security Settings
# ============================================================================
# API Bearer Token for endpoint authorization
# IMPORTANT: Generate a secure random token for production use
# Generate with: openssl rand -hex 32
API_TOKEN=your-secure-random-token-here-change-this-in-production

# ============================================================================
# Server Settings
# ============================================================================
HOST=0.0.0.0
PORT=8000
WORKERS=1
LOG_LEVEL=info  # Options: debug, info, warning, error, critical

# ============================================================================
# CORS Settings
# ============================================================================
CORS_ENABLED=true
# For production, specify exact origins:
# CORS_ORIGINS=["https://your-main-backend.com", "https://your-frontend.com"]
CORS_ORIGINS=["*"]
CORS_METHODS=["*"]
CORS_HEADERS=["*"]

# ============================================================================
# Model Settings
# ============================================================================
# Model name: buffalo_l (larger, more accurate) or buffalo_sc (smaller, faster)
MODEL_NAME=buffalo_l

# Face detection threshold (0.0 to 1.0, lower = more permissive)
DETECTION_THRESHOLD=0.5

# Embedding size (should always be 512 for ArcFace)
EMBEDDING_SIZE=512

# ============================================================================
# Device Settings
# ============================================================================
# Device: cpu or cuda
# Use 'cuda' if your VPS has GPU support
DEVICE=cpu

# ONNX Runtime providers (comma-separated, auto-configured if not set)
# Examples:
#   CPU: ["CPUExecutionProvider"]
#   GPU: ["CUDAExecutionProvider", "CPUExecutionProvider"]
# PROVIDERS=["CPUExecutionProvider"]

# ============================================================================
# Image Processing Settings
# ============================================================================
# Maximum image size in bytes (10MB default)
MAX_IMAGE_SIZE=10485760

# Allowed image formats (comma-separated)
# ALLOWED_IMAGE_FORMATS=jpg,jpeg,png,bmp,webp

# ============================================================================
# Performance & Resource Settings
# ============================================================================
# Request timeout in seconds
REQUEST_TIMEOUT=30

# Docker resource limits for face-recognition service
# Adjust based on your VPS capabilities
FACE_RECOGNITION_CPU_LIMIT=2
FACE_RECOGNITION_MEMORY_LIMIT=2G

# Docker resource reservations (guaranteed resources)
FACE_RECOGNITION_CPU_RESERVATION=1
FACE_RECOGNITION_MEMORY_RESERVATION=1G
